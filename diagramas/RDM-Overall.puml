@startuml RDM_Agil_Iterativo

title RDM CMMI 2.0 - Pr√°ticas √Ågeis (Ciclo Iterativo)\nCada Sprint repete o ciclo completo de gerenciamento de requisitos

!define LIGHTBLUE E3F2FD
!define LIGHTGREEN E8F5E9
!define LIGHTYELLOW FFF9C4
!define LIGHTPINK FCE4EC

' === LEGENDA ===
legend right
|<#LIGHTBLUE> Product Owner |
|<#LIGHTGREEN> Time √Ågil |
|<#LIGHTYELLOW> Scrum Master |
|<#LIGHTPINK> Stakeholders |
  
  **Ciclo:** Este fluxo se repete
  a cada Sprint (2-4 semanas)
endlegend

|Product Owner| #LIGHTBLUE
|Scrum Master| #LIGHTYELLOW
|Time √Ågil| #LIGHTGREEN
|Stakeholders| #LIGHTPINK
|Product Owner| #LIGHTBLUE

start

' === IN√çCIO DO CICLO ITERATIVO ===
:IN√çCIO DA SPRINT N;

:<b>FASE 1 ¬∑ Product Backlog Management (Cont√≠nuo)</b>;
  
|Product Owner|
  if (Primeira vez no projeto?) then (sim)
    :**RDM 1.1**
    Criar User Stories iniciais
    no Product Backlog;
    note right
      üìã **Artefatos:**
      ‚Ä¢ Product Backlog (Jira/Azure DevOps)
      ‚Ä¢ User Stories (formato: Como...Quero...Para...)
      ‚Ä¢ √âpicos de alto n√≠vel
      ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
      **Ferramentas Sugeridas:**
      Jira, Azure DevOps, Trello
    end note
  else (n√£o)
    :Product Backlog j√° existe
    (refinamento cont√≠nuo);
  endif
  
  :**RDM 2.1**
  Elicitar necessidades
  dos stakeholders;
  
|Stakeholders| #LIGHTPINK
  :Fornecer feedback sobre
  o produto atual;
  :Apresentar novas necessidades;
  :Validar prot√≥tipos/wireframes;
  
|Product Owner|
  :Documentar descobertas
  em User Stories;
  note right
    üìã **Artefatos:**
    ‚Ä¢ Atas de Discovery Workshops
    ‚Ä¢ User Stories atualizadas
    ‚Ä¢ Prot√≥tipos/Wireframes
    ‚Ä¢ Story Map (se aplic√°vel)
  end note
  
|Time √Ågil| #LIGHTGREEN
  :**RDM 2.2**
  Backlog Refinement
  (Grooming Session);
  
  :Decompor √âpicos em
  User Stories menores;
  :Estimar usando Planning Poker
  (Story Points ou T-shirt sizes);
  :Priorizar usando t√©cnica
  (ex: MoSCoW, WSJF, Value vs Effort);
  
  note right
    üìã **Artefatos:**
    ‚Ä¢ Product Backlog Refinado
    ‚Ä¢ Story Points estimados
    ‚Ä¢ Matriz de Prioriza√ß√£o
    ‚Ä¢ Definition of Ready (DoR)
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **DoR Exemplo:**
    ‚úì User Story segue template
    ‚úì Crit√©rios de Aceita√ß√£o definidos
    ‚úì Estimado pelo Time
    ‚úì Depend√™ncias identificadas
    ‚úì Test√°vel
  end note
  
  if (Backlog tem User Stories
  prontas para Planning?) then (n√£o)
    :Agendar nova sess√£o
    de refinamento;
    -[#red]-> Continua refinando;
    detach
  else (sim)
  endif
  
:<b>FASE 2 ¬∑ Sprint Planning</b>;
  
|Scrum Master| #LIGHTYELLOW
  :Facilitar Sprint Planning
  (timebox: 4-8h para Sprint de 2-4 semanas);
  
|Product Owner|
  :Apresentar User Stories
  priorizadas do topo do Backlog;
  
|Time √Ågil| #LIGHTGREEN
  :**RDM 2.3**
  Alinhar entendimento comum
  sobre requisitos;
  
  :Realizar t√©cnica "Tr√™s Amigos"
  (PO + Dev + QA);
  :Esclarecer ambiguidades
  das User Stories;
  :Definir/Revisar Crit√©rios
  de Aceita√ß√£o;
  :Criar cen√°rios de teste
  em formato BDD (Gherkin);
  
  note right
    üìã **Artefatos:**
    ‚Ä¢ User Stories detalhadas
    ‚Ä¢ Acceptance Criteria (formato GIVEN/WHEN/THEN)
    ‚Ä¢ Cen√°rios BDD (Gherkin)
    ‚Ä¢ Definition of Done (DoD)
    ‚Ä¢ Gloss√°rio Ub√≠quo (DDD)
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **Exemplo BDD:**
    Feature: Login de usu√°rio
    
    Scenario: Login com credenciais v√°lidas
      Given que estou na p√°gina de login
      When preencho email "user@test.com"
      And preencho senha "senha123"
      And clico em "Entrar"
      Then devo ver o dashboard
      And devo ver mensagem "Bem-vindo!"
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **DoD Exemplo:**
    ‚úì C√≥digo revisado (Pull Request)
    ‚úì Testes unit√°rios passando (>80% cobertura)
    ‚úì Testes BDD implementados
    ‚úì Documenta√ß√£o atualizada
    ‚úì Deploy em ambiente de staging
    ‚úì Aceito pelo PO
  end note
  
  repeat
    if (Todos t√™m o mesmo
    entendimento?) then (n√£o)
      :Esclarecer d√∫vidas;
    else (sim)
    endif
  repeat while (Consenso alcan√ßado?) is (n√£o)
  ->sim;
  
  :**RDM 2.4**
  Obter compromisso do Time;
  
|Time √Ågil|
  :Decompor User Stories
  em Tasks t√©cnicas;
  :Avaliar capacidade da Sprint
  (velocidade hist√≥rica);
  :Comprometer-se com
  User Stories selecionadas;
  
  if (Time confiante na entrega?) then (sim)
|Scrum Master|
    :Formalizar Sprint Goal
    e Sprint Backlog;
    note right
      üìã **Artefatos:**
      ‚Ä¢ **Sprint Goal** (objetivo da Sprint)
      ‚Ä¢ **Sprint Backlog** (US comprometidas)
      ‚Ä¢ Tasks decompostas (quadro Kanban)
      ‚Ä¢ Burndown Chart (baseline)
      ‚Ä¢ Velocity Chart
      ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
      **Exemplo Sprint Goal:**
      "Permitir que usu√°rios fa√ßam
      login e recuperem senha,
      aumentando a taxa de convers√£o"
    end note
  else (n√£o)
|Product Owner|
    :Negociar escopo reduzido;
    :Remover User Stories de
    menor prioridade;
    -[#red]-> Retorna ao planejamento;
    detach
  endif
  
:<b>FASE 3 ¬∑ Sprint Execution (Daily Loop)</b>;
  
|Time √Ågil| #LIGHTGREEN
  :**RDM 2.5**
  Implementar User Stories
  com rastreabilidade autom√°tica;
  
  :Criar branch no Git
  referenciando User Story;
  :Desenvolver funcionalidade;
  :Escrever testes automatizados
  (unit√°rios, integra√ß√£o, BDD);
  :Fazer commits vinculando
  c√≥digo √† User Story;
  note right
    üìã **Artefatos de Rastreabilidade:**
    ‚Ä¢ Git commits com tags (#US-123)
    ‚Ä¢ Pull Requests vinculados a US
    ‚Ä¢ Testes automatizados (JUnit, Cucumber)
    ‚Ä¢ Pipeline CI/CD (Jenkins, GitLab CI)
    ‚Ä¢ Relat√≥rios de Build
    ‚Ä¢ Code Coverage (SonarQube)
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **Exemplo Commit:**
    git commit -m "#US-123 Implementa 
    valida√ß√£o de email no cadastro
    
    - Adiciona regex para validar formato
    - Implementa teste unit√°rio
    - Atualiza cen√°rio BDD"
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **Rastreabilidade Bidirecional:**
    User Story ‚Üî Tasks
    User Story ‚Üî Git Commits
    User Story ‚Üî Testes BDD
    User Story ‚Üî Build/Deploy
    User Story ‚Üî Bugs
  end note
  
  :Executar pipeline CI/CD;
  :Deploy autom√°tico em
  ambiente de staging;
  
|Time √Ågil| #LIGHTGREEN
  :**RDM 2.6**
  Monitorar progresso e
  consist√™ncia diariamente;
  
  repeat
    :Daily Scrum (15 min, mesmo
    hor√°rio, mesmo local);
    note right
      **3 Perguntas do Daily:**
      1. O que fiz ontem?
      2. O que farei hoje?
      3. H√° algum impedimento?
      ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
      **Inspe√ß√£o de RDM:**
      ‚Ä¢ User Stories est√£o claras?
      ‚Ä¢ Crit√©rios de Aceita√ß√£o s√£o suficientes?
      ‚Ä¢ Alguma mudan√ßa de requisito?
    end note
    
    :Atualizar Burndown Chart;
    :Mover cards no Kanban
    (To Do ‚Üí Doing ‚Üí Done);
    
    if (Mudan√ßa de requisito
    identificada?) then (sim)
|Product Owner|
      :Avaliar impacto e urg√™ncia
      da mudan√ßa;
      
      if (Mudan√ßa cr√≠tica para
      Sprint atual?) then (sim)
|Time √Ågil|
        :Reuni√£o emergencial para
        avaliar impacto t√©cnico;
        
        if (Time aceita a mudan√ßa?) then (sim)
          :Atualizar User Story;
          :Atualizar Crit√©rios de Aceita√ß√£o;
          :Atualizar cen√°rios BDD;
          :Re-estimar se necess√°rio;
          note right
            üìã **Artefatos de Mudan√ßa:**
            ‚Ä¢ User Story atualizada (versionada)
            ‚Ä¢ Change Log no Jira
            ‚Ä¢ Sprint Backlog revisado
            ‚Ä¢ Tasks re-priorizadas
            ‚Ä¢ Comunica√ß√£o via Slack/Teams
          end note
          :Atualizar matriz de
          rastreabilidade;
        else (n√£o)
|Product Owner|
          :Adicionar mudan√ßa ao
          Product Backlog para
          pr√≥xima Sprint;
        endif
      else (n√£o)
        :Adicionar ao Product Backlog
        (pr√≥xima Sprint);
      endif
    else (n√£o)
      :Continuar desenvolvimento;
    endif
    
|Scrum Master|
    :Identificar e remover
    impedimentos;
    
  repeat while (Sprint em andamento?\n(at√© completar time-box)) is (sim)
  ->n√£o;
  
:<b>FASE 4 ¬∑ Sprint Review & Retrospective</b>;
  
|Stakeholders| #LIGHTPINK
  :Sprint Review
  (timebox: 2-4h);
  :Demonstrar incremento
  de software funcionando;
  :Apresentar User Stories
  completadas;
  
|Product Owner|
  :Validar cada User Story
  contra Definition of Done;
  :Testar funcionalidades
  no ambiente de staging;
  :Verificar Crit√©rios de Aceita√ß√£o;
  
  note right
    üìã **Artefatos de Valida√ß√£o:**
    ‚Ä¢ Checklist DoD
    ‚Ä¢ Relat√≥rio de testes executados
    ‚Ä¢ Feedback dos Stakeholders
    ‚Ä¢ Demo gravada (opcional)
    ‚Ä¢ Increment (produto potencialmente entreg√°vel)
  end note
  
  if (Todas as User Stories
  atendem DoD?) then (sim)
    :Marcar User Stories
    como "Done" no Jira;
    :Atualizar Velocity da Sprint;
    :Atualizar Release Burndown;
    
|Stakeholders|
    :Fornecer feedback sobre
    o incremento;
    :Sugerir melhorias para
    pr√≥ximas Sprints;
    
|Product Owner|
    :Atualizar Product Backlog
    baseado no feedback;
    :Re-priorizar se necess√°rio;
    
  else (n√£o)
    :Mover User Stories n√£o aceitas
    de volta ao Product Backlog;
    :Registrar raz√µes da n√£o aceita√ß√£o;
    note right
      üìã **Artefato:**
      ‚Ä¢ Log de User Stories rejeitadas
      ‚Ä¢ A√ß√µes corretivas para pr√≥xima Sprint
    end note
  endif
  
|Time √Ågil| #LIGHTGREEN
  :Sprint Retrospective
  (timebox: 1.5-3h);
  :Inspecionar o processo
  de trabalho da Sprint;
  
  note right
    **Formato Retrospectiva:**
    üü¢ O que funcionou bem?
    üî¥ O que pode melhorar?
    üí° A√ß√µes para pr√≥xima Sprint
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **Quest√µes sobre RDM:**
    ‚Ä¢ User Stories estavam claras?
    ‚Ä¢ DoR/DoD foram efetivos?
    ‚Ä¢ Elicita√ß√£o foi suficiente?
    ‚Ä¢ Rastreabilidade funcionou?
    ‚Ä¢ Mudan√ßas foram bem gerenciadas?
  end note
  
  :Identificar melhorias no
  processo de requisitos;
  :Definir a√ß√µes concretas
  (com respons√°vel e prazo);
  
  note right
    üìã **Artefatos:**
    ‚Ä¢ Ata da Retrospectiva
    ‚Ä¢ Action Items (com respons√°vel)
    ‚Ä¢ M√©tricas de melhoria cont√≠nua
    ‚Ä¢ Atualiza√ß√£o do DoR/DoD (se necess√°rio)
    ‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨
    **Exemplo de A√ß√£o:**
    ‚úì Melhorar template de User Story
      (Respons√°vel: PO, Prazo: pr√≥xima Sprint)
    ‚úì Adicionar sess√£o de refinamento extra
      (Respons√°vel: SM, Prazo: imediato)
  end note
  
  :Aplicar li√ß√µes aprendidas
  no pr√≥ximo ciclo;
  
' === LOOP ITERATIVO ===
|Product Owner|
:FIM DA SPRINT N;

note right
  üîÑ **ITERATIVIDADE:**
  O ciclo completo se repete
  a cada Sprint (2-4 semanas)
  
  Pr√≥ximo ciclo (Sprint N+1):
  ‚Ä¢ Product Backlog refinado com feedback
  ‚Ä¢ Velocity atualizada
  ‚Ä¢ DoR/DoD melhorados
  ‚Ä¢ Processo otimizado
end note

if (Produto completo ou
projeto cancelado?) then (n√£o)
  :IN√çCIO DA SPRINT N+1;
  -[#green,bold]-> Retorna √† Fase 1;
  detach
else (sim)
  :Release final do produto;
  stop
endif

@enduml
